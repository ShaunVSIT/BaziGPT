<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Footer Debug Test</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #1a1a1a;
            color: white;
        }

        .test-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .footer-test {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 16px;
            margin-bottom: 24px;
            padding: 24px;
            background: rgba(255, 152, 0, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 152, 0, 0.2);
            position: relative;
            z-index: 1;
            min-height: 120px;
            opacity: 1;
            visibility: visible;
        }

        .footer-title {
            color: #ff9800;
            font-weight: 600;
            text-align: center;
            margin-bottom: 8px;
        }

        .footer-description {
            color: #ccc;
            text-align: center;
            margin-bottom: 16px;
            max-width: 500px;
        }

        .footer-buttons {
            display: flex;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        .footer-button {
            border-radius: 8px;
            padding: 8px 24px;
            font-size: 0.9rem;
            font-weight: 500;
            text-transform: none;
            border: 1px solid #ff9800;
            color: #ff9800;
            background: transparent;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .footer-button:hover {
            border-color: #ff5722;
            color: #ff5722;
            background: rgba(255, 152, 0, 0.1);
        }

        .debug-info {
            background: rgba(0, 0, 0, 0.3);
            padding: 16px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .debug-button {
            background: #ff9800;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin: 4px;
        }
    </style>
</head>

<body>
    <div class="test-container">
        <h1>Footer Visibility Debug Test</h1>
        <p>This page tests the SocialFooter component in isolation to help identify visibility issues.</p>

        <div class="footer-test" data-testid="social-footer">
            <div class="footer-title">ðŸ“… Get Daily Bazi Forecasts</div>
            <div class="footer-description">
                Follow us on social media for daily Bazi forecasts, insights, and Chinese astrology wisdom delivered
                straight to your feed!
            </div>
            <div class="footer-buttons">
                <a href="https://x.com/bazigpt" target="_blank" rel="noopener noreferrer" class="footer-button">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"
                            fill="currentColor" />
                    </svg>
                    Follow on X
                </a>
                <a href="https://t.me/bazigpt_everyday" target="_blank" rel="noopener noreferrer" class="footer-button">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.74-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.07-.2-.08-.06-.19-.04-.27-.02-.12.02-1.96 1.25-5.54 3.69-.52.36-1 .53-1.42.52-.47-.01-1.37-.26-2.03-.48-.82-.27-1.47-.42-1.42-.88.03-.16.18-.32.49-.49 1.08-.49 1.8-.82 1.93-.87.23-.08.37-.12.56-.12.2 0 .33.06.45.19.14.15.18.35.25.62.08.27.03.66-.02 1.08-.04.42-.09.84-.09 1.26z"
                            fill="currentColor" />
                    </svg>
                    Join Telegram
                </a>
            </div>
        </div>

        <div class="debug-info">
            <h3>Debug Controls</h3>
            <button class="debug-button" onclick="testVisibility()">Test Visibility</button>
            <button class="debug-button" onclick="toggleFooter()">Toggle Footer</button>
            <button class="debug-button" onclick="clearCache()">Clear Cache</button>
            <button class="debug-button" onclick="checkConsole()">Check Console</button>
            <div id="debug-output" style="margin-top: 10px; font-family: monospace; font-size: 12px;"></div>
        </div>
    </div>

    <script>
        function testVisibility() {
            const footer = document.querySelector('[data-testid="social-footer"]');
            const output = document.getElementById('debug-output');

            if (footer) {
                const styles = window.getComputedStyle(footer);
                output.innerHTML = `
                    <strong>Footer Visibility Test:</strong><br>
                    Display: ${styles.display}<br>
                    Visibility: ${styles.visibility}<br>
                    Opacity: ${styles.opacity}<br>
                    Position: ${styles.position}<br>
                    Z-index: ${styles.zIndex}<br>
                    Height: ${styles.height}<br>
                    Width: ${styles.width}<br>
                    <br>
                    <strong>In DOM:</strong> Yes<br>
                    <strong>Offset Height:</strong> ${footer.offsetHeight}px<br>
                    <strong>Client Height:</strong> ${footer.clientHeight}px
                `;
            } else {
                output.innerHTML = '<strong>Footer not found in DOM!</strong>';
            }
        }

        function toggleFooter() {
            const footer = document.querySelector('[data-testid="social-footer"]');
            if (footer) {
                const currentDisplay = window.getComputedStyle(footer).display;
                footer.style.display = currentDisplay === 'none' ? 'flex' : 'none';
                testVisibility();
            }
        }

        function clearCache() {
            if ('caches' in window) {
                caches.keys().then(names => {
                    names.forEach(name => {
                        caches.delete(name);
                    });
                });
            }
            localStorage.clear();
            sessionStorage.clear();
            document.getElementById('debug-output').innerHTML = '<strong>Cache cleared!</strong>';
        }

        function checkConsole() {
            console.log('=== Footer Debug Console Check ===');
            console.log('Footer element:', document.querySelector('[data-testid="social-footer"]'));
            console.log('All elements with data-testid:', document.querySelectorAll('[data-testid]'));
            console.log('localStorage keys:', Object.keys(localStorage));
            console.log('sessionStorage keys:', Object.keys(sessionStorage));

            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.getRegistrations().then(registrations => {
                    console.log('Service workers:', registrations);
                });
            }

            document.getElementById('debug-output').innerHTML = '<strong>Check browser console for detailed info</strong>';
        }

        // Auto-test on load
        window.addEventListener('load', () => {
            setTimeout(testVisibility, 1000);
        });
    </script>
</body>

</html>